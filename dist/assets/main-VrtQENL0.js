import{t as A,p as z,a as C}from"./utils-Dn7v8L-T.js";A();const Q=document.querySelector(".main__quiz-range");function y(o,t,e){const r=e||10,a=(o-0)/(r-0)*100;Q.style.background=`linear-gradient(to right, var(--purple-600) ${a}%, var(--btn-background) ${a}%)`}let m=null,f=null,n=null,b=0,c=0;async function $(o,t){try{const e=await fetch("./data.json");if(!e.ok)throw new Error("Network response was not ok");({title:m,icon:f,questions:n}=(await e.json()).quizzes.find(r=>r.title===o)||{}),z(m),C(f,m),k(n,t),w(n,t),L(1,n),y(c+1,0,n.length)}catch(e){console.log("Error fetching data:",e)}}const j=new URLSearchParams(window.location.search),S=j.get("subject");$(S,c);function k(o,t){const e=document.querySelector(".main__question");e.textContent=o[t].question}function w(o,t){document.querySelectorAll(".main__option-text").forEach((i,r)=>{i.textContent=o[t].options[r]})}function L(o,t){const e=document.querySelector(".main__progress");let i=o,r=t.length;e.textContent=`Question ${i} of ${r}`}const D=document.querySelector("#quiz-form"),d=document.querySelector(".main__option--submit"),q=document.querySelector(".main__error");let p=!0;function T(o){o.preventDefault();const t=document.querySelector(".main__option-radio:checked");if(!t){q.classList.remove("hidden");return}const e=t.closest("label"),i=e.querySelector(".main__option-btn"),_=e.querySelector(".main__option-text").textContent,a=e.querySelector(".main__option-letter"),g=e.querySelector(".main__option-icon"),x=n[c].answer,l=n[c].options.findIndex(s=>s===n[c].answer),v=document.querySelectorAll(".main__option-btn"),I=document.querySelectorAll(".main__option-letter"),E=document.querySelectorAll(".main__option-icon"),h=v[l],R=I[l];let u=E[l];if(p)_===x?(h.classList.add("main__option-btn--correct"),R.classList.add("main__option-letter--correct"),u.style.backgroundImage="url('./src/images/icon-correct.svg')",b+=1):(i.classList.add("main__option-btn--incorrect"),a.classList.add("main__option-letter--incorrect"),h.classList.add("main__option-btn--correct"),u.style.backgroundImage="url('./src/images/icon-correct.svg')",g.style.backgroundImage="url('./src/images/icon-incorrect.svg')"),c===n.length?d.textContent="Finish Quiz":d.textContent="Next Question",q.classList.add("hidden"),p=!1;else{const s=n.length;if(console.log(s),c+=1,B(),u.style.backgroundImage="",g.style.backgroundImage="",c>=s){window.location.href=`score.html?subject=${encodeURIComponent(S)}&score=${b}&total=${s}`;return}k(n,c),w(n,c),L(c+1,n),y(c+1,0,n.length),d.textContent="Submit Answer",p=!0}}D.addEventListener("submit",T);function B(){var o;document.querySelectorAll(".main__option-btn").forEach(t=>{t.classList.remove("main__option-btn--selected","main__option-btn--correct","main__option-btn--incorrect")}),document.querySelectorAll(".main__option-letter").forEach(t=>{t.classList.remove("main__option-letter--correct","main__option-letter--incorrect")}),document.querySelectorAll(".main__option-radio").forEach(t=>{t.checked=!1}),(o=document.querySelector("main-error"))==null||o.classList.add("hidden")}
