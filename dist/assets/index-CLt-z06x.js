(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();function C(t){const e=document.querySelector(".header__topic-name");e.textContent=t}function R(t,e){const o=document.querySelector(".subject__icon");o.src=`./src/images/${t.split("/").pop()}`,o.classList.remove(o.classList.item(1)),o.classList.add(`subject__icon--${e.toLowerCase()}`)}function $(){const t=document.querySelector("#theme-toggle");localStorage.getItem("theme")==="dark"?(document.body.classList.add("dark"),t.checked=!0):(document.body.classList.remove("dark"),t.checked=!1),t.addEventListener("change",()=>{t.checked?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))})}$();const z=document.querySelector(".main__quiz-range");function q(t,e,o){const n=o||10,a=(t-0)/(n-0)*100;z.style.background=`linear-gradient(to right, var(--purple-600) ${a}%, var(--btn-background) ${a}%)`}let m=null,h=null,r=null,y=0,s=0;async function O(t,e){try{const o=await fetch("./data.json");if(!o.ok)throw new Error("Network response was not ok");({title:m,icon:h,questions:r}=(await o.json()).quizzes.find(n=>n.title===t)||{}),C(m),R(h,m),S(r,e),k(r,e),v(1,r),q(s+1,0,r.length)}catch(o){console.log("Error fetching data:",o)}}const j=new URLSearchParams(window.location.search),L=j.get("subject");O(L,s);function S(t,e){const o=document.querySelector(".main__question");o.textContent=t[e].question}function k(t,e){document.querySelectorAll(".main__option-text").forEach((i,n)=>{i.textContent=t[e].options[n]})}function v(t,e){const o=document.querySelector(".main__progress");let i=t,n=e.length;o.textContent=`Question ${i} of ${n}`}const Q=document.querySelector("#quiz-form"),p=document.querySelector(".main__option--submit"),b=document.querySelector(".main__error");let g=!0;function P(t){t.preventDefault();const e=document.querySelector(".main__option-radio:checked");if(!e){b.classList.remove("hidden");return}const o=e.closest("label"),i=o.querySelector(".main__option-btn"),c=o.querySelector(".main__option-text").textContent,a=o.querySelector(".main__option-letter"),_=o.querySelector(".main__option-icon"),w=r[s].answer,u=r[s].options.findIndex(l=>l===r[s].answer),I=document.querySelectorAll(".main__option-btn"),x=document.querySelectorAll(".main__option-letter"),E=document.querySelectorAll(".main__option-icon"),f=I[u],A=x[u];let d=E[u];if(g)c===w?(f.classList.add("main__option-btn--correct"),A.classList.add("main__option-letter--correct"),d.style.backgroundImage="url('./src/images/icon-correct.svg')",y+=1):(i.classList.add("main__option-btn--incorrect"),a.classList.add("main__option-letter--incorrect"),f.classList.add("main__option-btn--correct"),d.style.backgroundImage="url('./src/images/icon-correct.svg')",_.style.backgroundImage="url('./src/images/icon-incorrect.svg')"),s===r.length?p.textContent="Finish Quiz":p.textContent="Next Question",b.classList.add("hidden"),g=!1;else{const l=r.length;if(console.log(l),s+=1,T(),d.style.backgroundImage="",_.style.backgroundImage="",s>=l){window.location.href=`score.html?subject=${encodeURIComponent(L)}&score=${y}&total=${l}`;return}S(r,s),k(r,s),v(s+1,r),q(s+1,0,r.length),p.textContent="Submit Answer",g=!0}}Q.addEventListener("submit",P);function T(){var t;document.querySelectorAll(".main__option-btn").forEach(e=>{e.classList.remove("main__option-btn--selected","main__option-btn--correct","main__option-btn--incorrect")}),document.querySelectorAll(".main__option-letter").forEach(e=>{e.classList.remove("main__option-letter--correct","main__option-letter--incorrect")}),document.querySelectorAll(".main__option-radio").forEach(e=>{e.checked=!1}),(t=document.querySelector("main-error"))==null||t.classList.add("hidden")}
